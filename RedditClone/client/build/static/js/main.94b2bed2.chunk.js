(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),s=n.n(r),o=n(16),l=n(209),i=(n.p,n(202)),d=n(102),u=n.n(d),j=n(86),b=n.n(j),p=n(87),m=n.n(p),h=n(100),O=n.n(h),f=(n(133),n(13)),x=n(14),g=n.n(x),v=n(28),y=n(81),C=n.n(y).a.create({baseURL:"https://reddin.herokuapp.com/"});C.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var w=function(e,t){return C.patch("/posts/".concat(e),t)},S=function(e){return C.delete("/posts/".concat(e))},I=function(e){return C.patch("/posts/".concat(e,"/likePost"))},k=function(e,t){return C.put("/posts/".concat(e,"/AddComment"),t)},E=function(e){return C.post("/user/signin",e)},N=function(e){return C.post("/user/signup",e)},L=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("/posts");case 3:n=e.sent,(a=n.data).map((function(e){return t({type:"DELETE",payload:e._id})})),a.map((function(e){return t({type:"CREATE",payload:e})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,C.post("/posts",r);case 3:a=t.sent,c=a.data,n({type:"CREATE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},F=function(e,t){return function(){var n=Object(v.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(e,t);case 3:c=n.sent,r=c.data,a({type:"UPDATE",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},D=function(e,t){return function(){var n=Object(v.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(e,t);case 3:return c=n.sent,r=c.data,n.next=7,a({type:"UPDATE",payload:r});case 7:return n.abrupt("return",r.comments);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},_=n(22),A=n(2),P=function(e){var t=e.post,n=(e.setCurrentId,Object(f.b)()),a=Object(_.f)(),c=JSON.parse(localStorage.getItem("profile")),r=function(){return t.likes.length>0?t.likes.find((function(e){var t,n;return e===((null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.googleId)||(null===c||void 0===c||null===(n=c.result)||void 0===n?void 0:n._id))}))?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(u.a,{fontSize:"small"}),"\xa0",t.likes.length>2?"You and ".concat(t.likes.length-1," others"):"".concat(t.likes.length," like").concat(t.likes.length>1?"s":"")]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(b.a,{fontSize:"small"}),"\xa0",t.likes.length," ",1===t.likes.length?"Like":"Likes"]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(b.a,{fontSize:"small"}),"\xa0Like"]})};return Object(A.jsx)("div",{className:"card",children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsx)("h5",{className:"card-title",children:t.title}),Object(A.jsx)("p",{className:"card-text",children:t.message}),Object(A.jsx)("p",{className:"card-text",children:O()(t.createdAt).fromNow()}),Object(A.jsxs)(i.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(v.a)(g.a.mark((function t(n){var a,c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,I(e,null===a||void 0===a||a.token);case 4:c=t.sent,r=c.data,n({type:"LIKE",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(A.jsx)(r,{})," "]}),Object(A.jsxs)(i.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:n({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(A.jsx)(m.a,{fontSize:"small"})," Delete"]}),Object(A.jsxs)(i.a,{size:"small",color:"primary",onClick:function(){a.push("/board/".concat(t._id))},children:[Object(A.jsx)(m.a,{fontSize:"small"})," Comment"]})]})})},R=n(203),U=(Object(R.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),n(204)),J=function(e){var t=e.setCurrentId,n=Object(f.c)((function(e){return e.posts}));console.log(n);var a=Object(_.h)().id,c=n.filter((function(e){return e.subreddit===a}));return n.length?Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"row",children:c.map((function(e){return Object(A.jsx)("div",{className:"col-12",children:Object(A.jsx)(P,{post:e,setCurrentId:t})})}))})}):Object(A.jsx)(U.a,{})},z=n(61),H=n(27),B=n(106),M=n.n(B),q=(n(159),function(e){var t,n=e.currentId,c=e.setCurrentId,r=Object(a.useState)({title:"",message:"",selectedFile:""}),s=Object(o.a)(r,2),l=s[0],i=s[1],d=Object(f.c)((function(e){return n?e.posts.find((function(e){return e._id===n})):null})),u=Object(f.b)(),j=JSON.parse(localStorage.getItem("profile"));Object(a.useEffect)((function(){d&&i(d)}),[d]);var b=function(){c(0),i({title:"",message:"",selectedFile:""})},p=window.location.pathname,m=p.substring(p.lastIndexOf("/")+1),h=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(l),0===n?(u(T(Object(H.a)(Object(H.a)({},l),{},{name:null===j||void 0===j||null===(a=j.result)||void 0===a?void 0:a.name,subreddit:m}))),b()):(u(F(n,Object(H.a)(Object(H.a)({},l),{},{name:null===j||void 0===j||null===(c=j.result)||void 0===c?void 0:c.name,subreddit:m}))),b());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){i(Object(H.a)(Object(H.a)({},l),{},Object(z.a)({},e.target.name,e.target.value)))};return(null===j||void 0===j||null===(t=j.result)||void 0===t?void 0:t.name)?Object(A.jsx)("div",{class:"container",children:Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{class:"modal-dialog",children:Object(A.jsxs)("div",{class:"modal-content",children:[Object(A.jsxs)("div",{class:"modal-header",children:[Object(A.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Post Data"}),Object(A.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(A.jsxs)("div",{class:"modal-body",children:[j.result.name?Object(A.jsxs)("form",{onSubmit:h,children:[Object(A.jsxs)("div",{class:"mb-3",children:[Object(A.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Title"}),Object(A.jsx)("input",{type:"text",class:"form-control",name:"title",id:"exampleFormControlInput1",placeholder:"...",onChange:O})]}),Object(A.jsxs)("div",{class:"mb-3",children:[Object(A.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label",children:"Description"}),Object(A.jsx)("textarea",{class:"form-control",name:"message",id:"exampleFormControlTextarea1",rows:"3",onChange:O})]}),Object(A.jsxs)("div",{class:"mb-3",children:[Object(A.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Image"}),Object(A.jsx)("div",{children:Object(A.jsx)(M.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return i(Object(H.a)(Object(H.a)({},l),{},{selectedFile:t}))}})})]}),Object(A.jsx)("button",{class:"btnn",type:"submit",children:Object(A.jsx)("h5",{children:"Send"})})]}):"log to post",Object(A.jsx)("div",{})]})]})})}),Object(A.jsx)("div",{class:"post",children:Object(A.jsxs)("button",{className:"btnn","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[" ",Object(A.jsx)("h5",{children:"Post"})," "]})})]})})}):Object(A.jsx)("div",{class:"ad",children:Object(A.jsx)("h1",{children:"Create a user to post"})})}),G=Object(R.a)((function(){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},heading:{color:"rgba(0, 183, 255, 1)"},image:{marginLeft:"15px"}}})),W=n(56),K=(n(160),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(f.b)(),s=Object(_.f)(),l=Object(_.g)();return Object(a.useEffect)((function(){null===n||void 0===n||n.token;c(JSON.parse(localStorage.getItem("profile")))}),[l]),Object(A.jsx)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:Object(A.jsxs)("div",{class:"container-fluid",children:[Object(A.jsx)("a",{class:"navbar-brand",href:"/",children:"Reddin"}),Object(A.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(A.jsx)("span",{class:"navbar-toggler-icon"})}),Object(A.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(A.jsx)("ul",{class:"navbar-nav mr-auto",children:Object(A.jsxs)("li",{class:"nav-item dropdown",children:[Object(A.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Settings"}),Object(A.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(A.jsx)("li",{children:Object(A.jsx)("a",{class:"dropdown-item",href:"/auth",children:"Sign Up"})}),Object(A.jsx)("li",{children:Object(A.jsx)("a",{class:"dropdown-item",href:"/auth",children:"Sign In"})}),n?Object(A.jsx)("li",{children:Object(A.jsx)("button",{class:"dropdown-item",onClick:function(){r({type:"LOGOUT"}),s.push("/auth"),c(null)},children:"Log Out"})}):""]})]})}),n?Object(A.jsx)("span",{class:"navbar-text",children:Object(A.jsx)("h4",{children:n.result.name})}):""]})]})})}),V=(n(161),function(){G();var e=Object(f.b)(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){e(L())}),[c,e]),Object(A.jsx)("div",{class:"container",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col",children:Object(A.jsx)(J,{setCurrentId:r})}),Object(A.jsx)("div",{className:"col",children:Object(A.jsx)(q,{currentId:c,setCurrentId:r})})]})})}),Y=(n(162),function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(f.b)();Object(a.useEffect)((function(){r(function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("/sub");case 3:n=e.sent,(a=n.data).map((function(e){return t({type:"DELETE2",payload:e._id})})),a.map((function(e){return t({type:"CREATE2",payload:e})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}));var s=Object(f.c)((function(e){return e.subs})),l=s.filter((function(e){return e.title.includes(n)}));return console.log(s),Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)("div",{class:"row align-items-center",children:Object(A.jsx)("div",{className:"col",children:Object(A.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){return c(e.target.value)},autoFocus:!0})})}),l.map((function(e){return Object(A.jsx)("div",{class:"card",children:Object(A.jsx)("div",{class:"row",children:Object(A.jsx)("div",{className:"col",children:Object(A.jsx)("div",{className:"card-body",children:Object(A.jsx)("div",{className:"card-title",children:Object(A.jsx)("a",{href:"r/"+e.title+"/"+e._id,class:"display-3",children:Object(A.jsx)("h4",{children:e.title})})})})})})})}))]})}),Z=Object(R.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Q=n(110),X=n.n(Q),$=function(){return Object(A.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(A.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},ee=n(206),te=n(213),ne=n(168),ae=n(205),ce=n(210),re=n(207),se=n(208),oe=n(107),le=n.n(oe),ie=n(108),de=n.n(ie),ue=function(e){var t=e.name,n=e.handleChange,a=e.label,c=e.half,r=e.autoFocus,s=e.type,o=e.handleShowPassword;return Object(A.jsx)(ae.a,{item:!0,xs:12,sm:c?6:12,children:Object(A.jsx)(ce.a,{name:t,onChange:n,variant:"outlined",required:!0,fullWidth:!0,label:a,autoFocus:r,type:s,InputProps:"password"===t?{endAdornment:Object(A.jsx)(re.a,{position:"end",children:Object(A.jsx)(se.a,{onClick:o,children:"password"===s?Object(A.jsx)(le.a,{}):Object(A.jsx)(de.a,{})})})}:null})})},je=n(109),be={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},pe=function(){var e=Z(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(be),d=Object(o.a)(s,2),u=d[0],j=d[1],b=Object(a.useState)(!0),p=Object(o.a)(b,2),m=p[0],h=p[1],O=Object(f.b)(),x=Object(_.f)(),y=function(e){return j(Object(H.a)(Object(H.a)({},u),{},Object(z.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null===t||void 0===t?void 0:t.profileObj,a=null===t||void 0===t?void 0:t.tokenId;try{O({type:"AUTH",data:{result:n,token:a}}),x.push("/")}catch(c){console.log(c)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(l.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(ee.a,{className:e.paper,elevation:3,children:[Object(A.jsx)(te.a,{className:e.avatar,children:Object(A.jsx)(X.a,{})}),Object(A.jsx)(ne.a,{component:"h1",variant:"h5",children:m?"Sign up":"Sign in"}),Object(A.jsxs)("form",{className:e.form,onSubmit:function(e){var t,n;e.preventDefault(),m?(console.log(u),O((t=u,n=x,function(){var e=Object(v.a)(g.a.mark((function e(a){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:c=e.sent,r=c.data,console.log(r),a({type:"AUTH",data:r}),n.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?console.log(e.t0.response):e.t0.request?console.log(e.t0.request):e.t0.message&&console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))):O(function(e,t){return function(){var n=Object(v.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e);case 3:c=n.sent,r=c.data,a({type:"AUTH",data:r}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0.response?console.log(n.t0.response):n.t0.request?console.log(n.t0.request):n.t0.message&&console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(u,x))},children:[Object(A.jsxs)(ae.a,{container:!0,spacing:2,children:[m&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(ue,{name:"firstName",label:"First Name",handleChange:y,autoFocus:!0,half:!0}),Object(A.jsx)(ue,{name:"lastName",label:"Last Name",handleChange:y,half:!0})]}),Object(A.jsx)(ue,{name:"email",label:"Email Address",handleChange:y,type:"email"}),Object(A.jsx)(ue,{name:"password",label:"Password",handleChange:y,type:c?"text":"password",handleShowPassword:function(){return r(!c)}}),m&&Object(A.jsx)(ue,{name:"confirmPassword",label:"Repeat Password",handleChange:y,type:"password"})]}),Object(A.jsx)(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:m?"Sign Up":"Sign In"}),Object(A.jsx)(je.GoogleLogin,{clientId:"1008148541522-94mp0afmurhd0b4t1bad1fjt1mduaj16.apps.googleusercontent.com",render:function(t){return Object(A.jsx)(i.a,{className:e.googleButton,color:"primary",fullWidth:!0,onClick:t.onClick,disabled:t.disabled,startIcon:Object(A.jsx)($,{}),variant:"contained",children:"Google Sign In"})},onSuccess:C,onFailure:function(){console.log("error")},cookiePolicy:"single_host_origin"}),Object(A.jsx)(ae.a,{container:!0,justify:"flex-end",children:Object(A.jsx)(ae.a,{item:!0,children:Object(A.jsx)(i.a,{onClick:function(){h((function(e){return!e})),r(!1)},children:m?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},me=(n(163),n(164),n(211)),he=n(118),Oe=me.a.TextArea;var fe=function(e){var t=JSON.parse(localStorage.getItem("profile")).result,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(!1),i=Object(o.a)(l,2),d=i[0],u=i[1],j=Object(f.b)();console.log(e.comment);var b=function(n){n.preventDefault();var a={content:r,creator:t._id,postId:e.postId,responseTo:e.comment._id};j(D(e.postId,a)),j(D(e.postId,a)).then((function(t){return e.refreshFunction(t[0])}))},p=[Object(A.jsx)("span",{class:"badge badge-pill badge-danger",onClick:function(){u(!d)},children:"Reply to "},"comment-basic-reply-to")];return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{class:"card",children:Object(A.jsxs)("div",{class:"card-body",children:[Object(A.jsx)("h5",{class:"card-title",children:t.name}),Object(A.jsx)("p",{class:"card-text",children:e.comment.content}),p]})}),d&&Object(A.jsxs)("form",{style:{display:"flex"},onSubmit:b,children:[Object(A.jsx)(Oe,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){s(e.currentTarget.value)},value:r,placeholder:"write some comments"}),Object(A.jsx)("br",{}),Object(A.jsx)(he.a,{style:{width:"20%",height:"8px"},onClick:b,children:Object(A.jsx)("h5",{children:"Post"})})]})]})};var xe=function e(t){var n,r=Object(a.useState)(0),s=Object(o.a)(r,2),l=(s[0],s[1]),i=Object(a.useState)(!1),d=Object(o.a)(i,2);return d[0],d[1],Object(a.useEffect)((function(){var e=0;t.CommentLists.map((function(n){n.responseTo===t.parentCommentId&&e++})),l(e)}),[t.CommentLists,t.parentCommentId]),Object(A.jsx)("div",{children:(n=t.parentCommentId,t.CommentLists.map((function(a,r){return Object(A.jsx)(c.a.Fragment,{children:a.responseTo===n&&Object(A.jsxs)("div",{style:{width:"80%",marginLeft:"40px",marginTop:"40px"},children:[Object(A.jsx)(fe,{comment:a,postId:t.postId,refreshFunction:t.refreshFunction}),Object(A.jsx)(e,{CommentLists:t.CommentLists,parentCommentId:a._id,postId:t.postId})]})})})))})},ge=me.a.TextArea;var ve=function(e){var t=JSON.parse(localStorage.getItem("profile")).result,n=(Object(f.c)((function(e){return e.posts})),Object(a.useState)("")),r=Object(o.a)(n,2),s=r[0],l=r[1],i=Object(f.b)(),d=function(n){n.preventDefault();var a={content:s,creator:t._id,postId:e.postId};i(D(e.postId,a)).then((function(t){return e.refreshFunction(t[0])}))};return Object(A.jsxs)("div",{children:[Object(A.jsx)("br",{}),Object(A.jsx)("h5",{children:" Replies"}),Object(A.jsx)("hr",{}),console.log(e.CommentLists),e.CommentLists&&e.CommentLists.map((function(t,n){return!t.responseTo&&Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(fe,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction}),Object(A.jsx)(xe,{CommentLists:e.CommentLists,postId:e.postId,parentCommentId:t._id,refreshFunction:e.refreshFunction})]})})),Object(A.jsxs)("form",{style:{display:"flex"},onSubmit:d,children:[Object(A.jsx)(ge,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){l(e.currentTarget.value)},value:s,placeholder:"write some comments"}),Object(A.jsx)("br",{}),Object(A.jsx)(he.a,{style:{width:"20%",height:"52px"},onClick:d,children:Object(A.jsx)("h5",{children:"Post"})})]})]})},ye=function(e){var t=e.match,n=Object(f.c)((function(e){return e.posts})).filter((function(e){return e._id===t.params.id})),c=JSON.parse(localStorage.getItem("profile")).result.name,r=Object(a.useState)(!1),s=Object(o.a)(r,2),l=(s[0],s[1],Object(a.useState)("0")),i=Object(o.a)(l,2),d=(i[0],i[1],Object(a.useState)({creator:"".concat(c),message:"",CommentReply:"0"})),u=Object(o.a)(d,2),j=(u[0],u[1],Object(a.useState)([])),b=Object(o.a)(j,2),p=b[0],m=b[1];Object(f.b)();Object(a.useEffect)((function(){console.log("as"),n[0]&&(m(n[0].comments),console.log(p))}));return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{class:"container",children:[n[0]?Object(A.jsx)("div",{class:"card",children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsx)("h5",{class:"card-title",children:n[0].title}),Object(A.jsx)("p",{class:"card-text",children:n[0].message})]})}):"",n[0]?Object(A.jsx)(ve,{CommentLists:p,postId:n[0]._id,refreshFunction:function(e){m(p.concat(e))}}):""]})})},Ce=function(){G();var e=Object(f.b)(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0];n[1];return Object(a.useEffect)((function(){e(L())}),[c,e]),Object(A.jsx)(W.a,{children:Object(A.jsxs)(l.a,{maxidth:"lg",children:[Object(A.jsx)(K,{}),Object(A.jsxs)(_.c,{children:[Object(A.jsx)(_.a,{path:"/auth",exact:!0,component:pe}),Object(A.jsx)(_.a,{path:"/board/:id",exact:!0,component:ye}),Object(A.jsx)(_.a,{path:"/r/:title/:id",exact:!0,component:V}),Object(A.jsx)(_.a,{path:"/",exact:!0,component:Y})]})]})})},we=n(47),Se=n(116),Ie=n(77),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(H.a)({},null===t||void 0===t?void 0:t.data))),Object(H.a)(Object(H.a)({},e),{},{authData:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(H.a)(Object(H.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},Ee=Object(we.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"FETCH_ALL":return e;case"CREATE":return[].concat(Object(Ie.a)(e),[t.payload]);case"DELETE":return e.filter((function(e){return e._id!==t.payload}));case"LIKE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}},auth:ke,subs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return e;case"CREATE2":return[].concat(Object(Ie.a)(e),[t.payload]);case"DELETE2":return e.filter((function(e){return e._id!==t.payload}));case"CLEAR":return[];default:return e}}}),Ne=(n(165),Object(we.e)(Ee,Object(we.d)(Object(we.a)(Se.a))));s.a.render(Object(A.jsx)(f.a,{store:Ne,children:Object(A.jsx)(Ce,{})}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.94b2bed2.chunk.js.map