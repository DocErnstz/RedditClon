(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,n){},162:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Le}));var a=n(0),c=n.n(a),r=n(15),s=n.n(r),o=n(16),i=n(207),l=n(13),d=n(14),u=n.n(d),j=n(28),b=n(101),p=n.n(b).a.create({baseURL:"http://localhost:5000"});p.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var m=function(e,t){return p.patch("/posts/".concat(e),t)},h=function(e){return p.delete("/posts/".concat(e))},O=function(e){return p.patch("/posts/".concat(e,"/likePost"))},f=function(e,t){return p.put("/posts/".concat(e,"/AddComment"),t)},x=function(e){return p.post("/user/signin",e)},v=function(e){return p.post("/user/signup",e)},g=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/posts");case 3:n=e.sent,(a=n.data).map((function(e){return t({type:"DELETE",payload:e._id})})),a.map((function(e){return t({type:"CREATE",payload:e})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,p.post("/posts",r);case 3:a=t.sent,c=a.data,n({type:"CREATE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(a){var c,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(e,t);case 3:c=n.sent,r=c.data,a({type:"UPDATE",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(a){var c,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f(e,t);case 3:return c=n.sent,r=c.data,n.next=7,a({type:"UPDATE",payload:r});case 7:return n.abrupt("return",r.comments);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},S=n(56),I=n(22),k=n(2),N=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(o.a)(e,2),n=(t[0],t[1]),c=(Object(l.b)(),Object(I.f)(),Object(I.g)());return Object(a.useEffect)((function(){n(JSON.parse(localStorage.getItem("profile")))}),[c]),Object(k.jsx)("nav",{class:"navbar shadow navbar-expand-lg navbar-light bg-light sticky-top",styles:"width: 100vw",children:Object(k.jsxs)("div",{class:"container-fluid",children:[Object(k.jsx)("a",{class:"navbar-brand",href:"#",children:Object(k.jsx)("i",{class:"fab fa-reddit-alien fa-2x"})}),Object(k.jsx)("div",{class:"me-3 h3 mt-1",id:"brand",children:"Reddit"}),Object(k.jsxs)("div",{class:"d-flex flex-grow-1",id:"navbarSupportedContent",children:[Object(k.jsx)("form",{class:"d-flex flex-grow-1",children:Object(k.jsxs)("div",{class:"input-group flex-nowrap",children:[Object(k.jsx)("span",{class:"input-group-text bg-white",id:"addon-wrapping",children:Object(k.jsx)("i",{class:"fas fa-search"})}),Object(k.jsx)("input",{type:"search",class:"form-control border-start-0",placeholder:"Search Reddit","aria-label":"SearchReddit","aria-describedby":"addon-wrapping"})]})}),Object(k.jsxs)("div",{class:"row ms-auto my-auto h-100",children:[Object(k.jsx)("div",{class:"\r col col-2\r d-flex\r justify-content-center\r align-items-center\r mx-3\r ",children:Object(k.jsx)("a",{class:"btn btn-primary","data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample",children:Object(k.jsx)("i",{id:"userIcon",class:"far fa-user fa-2x"})})}),Object(k.jsxs)("div",{class:"col",id:"infoUser",children:[Object(k.jsx)("div",{class:"row fw-bold",children:"Mercadoernesto"}),Object(k.jsx)("div",{class:"row fw-lighter",children:"999 karma"})]})]})]})]})})},E=n(200),T=n(103),L=n.n(T),F=n(85),_=n.n(F),A=n(86),D=n.n(A),P=n(102),R=n.n(P),J=(n(160),function(e){var t=e.post,n=(e.setCurrentId,Object(l.b)()),a=Object(I.f)(),c=JSON.parse(localStorage.getItem("profile")),r=function(){return t.likes.length>0?t.likes.find((function(e){var t,n;return e===((null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.googleId)||(null===c||void 0===c||null===(n=c.result)||void 0===n?void 0:n._id))}))?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(L.a,{fontSize:"small"}),"\xa0",t.likes.length>2?"You and ".concat(t.likes.length-1," others"):"".concat(t.likes.length," like").concat(t.likes.length>1?"s":"")]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a,{fontSize:"small"}),"\xa0",t.likes.length," ",1===t.likes.length?"Like":"Likes"]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a,{fontSize:"small"}),"\xa0Like"]})};return Object(k.jsx)("div",{className:"card",children:Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title",children:t.title}),Object(k.jsx)("p",{className:"card-text",children:t.message}),Object(k.jsx)("p",{className:"card-text",children:R()(t.createdAt).fromNow()}),Object(k.jsxs)(E.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,O(e,null===a||void 0===a||a.token);case 4:c=t.sent,r=c.data,n({type:"LIKE",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(k.jsx)(r,{})," "]}),Object(k.jsxs)(E.a,{size:"small",color:"primary",onClick:function(){return n((e=t._id,function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(e);case 3:n({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(k.jsx)(D.a,{fontSize:"small"})," Delete"]}),Object(k.jsxs)(E.a,{size:"small",color:"primary",onClick:function(){a.push("/board/".concat(t._id))},children:[Object(k.jsx)(D.a,{fontSize:"small"})," Comment"]})]})})}),U=n(201),z=(Object(U.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),n(202)),B=function(e){var t=e.setCurrentId,n=Object(l.c)((function(e){return e.posts})),a=Object(I.h)().id,c=n.filter((function(e){return e.subreddit===a}));return n.length?Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"row",children:c.map((function(e){return Object(k.jsx)("div",{className:"col-12",children:Object(k.jsx)(J,{post:e,setCurrentId:t})})}))})}):Object(k.jsx)(z.a,{})},M=n(61),H=n(27),q=n(107),W=n.n(q),G=function(e){var t,n=e.currentId,c=e.setCurrentId,r=Object(a.useState)({title:"",message:"",selectedFile:""}),s=Object(o.a)(r,2),i=s[0],d=s[1],b=Object(l.c)((function(e){return n?e.posts.find((function(e){return e._id===n})):null})),p=Object(l.b)(),m=JSON.parse(localStorage.getItem("profile"));Object(a.useEffect)((function(){b&&d(b)}),[b]);var h=function(){c(0),d({title:"",message:"",selectedFile:""})},O=window.location.pathname,f=O.substring(O.lastIndexOf("/")+1),x=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(i),a=document.getElementById("closeButton"),0===n?(p(y(Object(H.a)(Object(H.a)({},i),{},{name:null===m||void 0===m||null===(c=m.result)||void 0===c?void 0:c.name,subreddit:f}))),a.click(),h()):(p(w(n,Object(H.a)(Object(H.a)({},i),{},{name:null===m||void 0===m||null===(r=m.result)||void 0===r?void 0:r.name,subreddit:f}))),a.click(),h());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){d(Object(H.a)(Object(H.a)({},i),{},Object(M.a)({},e.target.name,e.target.value)))};return(null===m||void 0===m||null===(t=m.result)||void 0===t?void 0:t.name)?Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsxs)("button",{type:"button",class:"btn btn-primary btn-block w-100",id:"closeButton","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[" ",Object(k.jsx)("h5",{children:"Create Post"})]})}),Object(k.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(k.jsx)("div",{class:"modal-dialog",id:"IDModal",children:Object(k.jsxs)("div",{class:"modal-content",children:[Object(k.jsxs)("div",{class:"modal-header",children:[Object(k.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Post Data"}),Object(k.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(k.jsxs)("div",{class:"modal-body",children:[m.result.name?Object(k.jsxs)("form",{onSubmit:x,children:[Object(k.jsxs)("div",{class:"mb-3",children:[Object(k.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Title"}),Object(k.jsx)("input",{type:"text",class:"form-control",name:"title",id:"exampleFormControlInput1",placeholder:"...",onChange:v})]}),Object(k.jsxs)("div",{class:"mb-3",children:[Object(k.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label",children:"Description"}),Object(k.jsx)("textarea",{class:"form-control",name:"message",id:"exampleFormControlTextarea1",rows:"3",onChange:v})]}),Object(k.jsxs)("div",{class:"mb-3",children:[Object(k.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Image"}),Object(k.jsx)("div",{children:Object(k.jsx)(W.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return d(Object(H.a)(Object(H.a)({},i),{},{selectedFile:t}))}})})]}),Object(k.jsx)("button",{class:"btn btn-primary w-100",id:"button",type:"submit",children:Object(k.jsx)("h5",{children:"Send"})})]}):"log to post",Object(k.jsx)("div",{})]})]})})})]}):Object(k.jsx)("div",{class:"ad",children:Object(k.jsx)("h1",{children:"Create a user to post"})})},K=function(){var e=Object(l.b)(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){e(g())}),[c,e]),Object(k.jsx)("div",{class:"container",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col2",children:Object(k.jsx)(G,{currentId:c,setCurrentId:r})}),Object(k.jsx)("div",{className:"col-12 col1",children:Object(k.jsx)(B,{setCurrentId:r})})]})})},V=function(e){return Object(k.jsx)("div",{className:"card",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col",children:Object(k.jsx)("div",{className:"card-body",children:Object(k.jsx)("div",{className:"card-title",children:Object(k.jsx)("a",{href:"r/"+e.sub.title+"/"+e.sub._id,className:"display-3",children:Object(k.jsx)("h4",{children:e.sub.title})})})})})})})},Y=n(211),Z=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(l.b)();Object(a.useEffect)((function(){r(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/sub");case 3:n=e.sent,(a=n.data).map((function(e){return t({type:"DELETE2",payload:e._id})})),a.map((function(e){return t({type:"CREATE2",payload:e})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}));var s=Object(l.c)((function(e){return e.subs})).filter((function(e){return e.title.includes(n)}));return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("div",{className:"row align-items-center",children:Object(k.jsx)("div",{className:"col",children:Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){return c(e.target.value)},autoFocus:!0})})}),s.map((function(e){return Object(k.jsx)(V,{sub:e},Object(Y.a)())}))]})},Q=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),X=n(111),$=n.n(X),ee=function(){return Object(k.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(k.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},te=n(204),ne=n(212),ae=n(168),ce=n(203),re=n(208),se=n(205),oe=n(206),ie=n(108),le=n.n(ie),de=n(109),ue=n.n(de),je=function(e){var t=e.name,n=e.handleChange,a=e.label,c=e.half,r=e.autoFocus,s=e.type,o=e.handleShowPassword;return Object(k.jsx)(ce.a,{item:!0,xs:12,sm:c?6:12,children:Object(k.jsx)(re.a,{name:t,onChange:n,variant:"outlined",required:!0,fullWidth:!0,label:a,autoFocus:r,type:s,InputProps:"password"===t?{endAdornment:Object(k.jsx)(se.a,{position:"end",children:Object(k.jsx)(oe.a,{onClick:o,children:"password"===s?Object(k.jsx)(le.a,{}):Object(k.jsx)(ue.a,{})})})}:null})})},be=n(110),pe={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},me=function(){var e=Q(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(pe),d=Object(o.a)(s,2),b=d[0],p=d[1],m=Object(a.useState)(!0),h=Object(o.a)(m,2),O=h[0],f=h[1],g=Object(l.b)(),y=Object(I.f)(),w=function(e){return p(Object(H.a)(Object(H.a)({},b),{},Object(M.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null===t||void 0===t?void 0:t.profileObj,a=null===t||void 0===t?void 0:t.tokenId;try{g({type:"AUTH",data:{result:n,token:a}}),y.push("/")}catch(c){console.log(c)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(i.a,{component:"main",maxWidth:"xs",children:Object(k.jsxs)(te.a,{className:e.paper,elevation:3,children:[Object(k.jsx)(ne.a,{className:e.avatar,children:Object(k.jsx)($.a,{})}),Object(k.jsx)(ae.a,{component:"h1",variant:"h5",children:O?"Sign up":"Sign in"}),Object(k.jsxs)("form",{className:e.form,onSubmit:function(e){var t,n;e.preventDefault(),O?(console.log(b),g((t=b,n=y,function(){var e=Object(j.a)(u.a.mark((function e(a){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:c=e.sent,r=c.data,console.log(r),a({type:"AUTH",data:r}),n.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?console.log(e.t0.response):e.t0.request?console.log(e.t0.request):e.t0.message&&console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))):g(function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(a){var c,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x(e);case 3:c=n.sent,r=c.data,a({type:"AUTH",data:r}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0.response?console.log(n.t0.response):n.t0.request?console.log(n.t0.request):n.t0.message&&console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(b,y))},children:[Object(k.jsxs)(ce.a,{container:!0,spacing:2,children:[O&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(je,{name:"firstName",label:"First Name",handleChange:w,autoFocus:!0,half:!0}),Object(k.jsx)(je,{name:"lastName",label:"Last Name",handleChange:w,half:!0})]}),Object(k.jsx)(je,{name:"email",label:"Email Address",handleChange:w,type:"email"}),Object(k.jsx)(je,{name:"password",label:"Password",handleChange:w,type:c?"text":"password",handleShowPassword:function(){return r(!c)}}),O&&Object(k.jsx)(je,{name:"confirmPassword",label:"Repeat Password",handleChange:w,type:"password"})]}),Object(k.jsx)(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:O?"Sign Up":"Sign In"}),Object(k.jsx)(be.GoogleLogin,{clientId:"1008148541522-94mp0afmurhd0b4t1bad1fjt1mduaj16.apps.googleusercontent.com",render:function(t){return Object(k.jsx)(E.a,{className:e.googleButton,color:"primary",fullWidth:!0,onClick:t.onClick,disabled:t.disabled,startIcon:Object(k.jsx)(ee,{}),variant:"contained",children:"Google Sign In"})},onSuccess:C,onFailure:function(){console.log("error")},cookiePolicy:"single_host_origin"}),Object(k.jsx)(ce.a,{container:!0,justify:"flex-end",children:Object(k.jsx)(ce.a,{item:!0,children:Object(k.jsx)(E.a,{onClick:function(){f((function(e){return!e})),r(!1)},children:O?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},he=(n(161),n(162),n(209)),Oe=n(120),fe=he.a.TextArea;var xe=function(e){var t=JSON.parse(localStorage.getItem("profile")).result,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),d=Object(o.a)(i,2),u=d[0],j=d[1],b=Object(l.b)(),p=function(n){n.preventDefault();var a={content:r,creator:t._id,postId:e.postId,responseTo:e.comment._id};b(C(e.postId,a)),b(C(e.postId,a)).then((function(t){return e.refreshFunction(t[0])}))},m=[Object(k.jsx)("span",{className:"badge badge-pill badge-danger",onClick:function(){j(!u)},children:"Reply to "},"comment-basic-reply-to")];return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"card",children:Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title",children:t.name}),Object(k.jsx)("p",{className:"card-text",children:e.comment.content}),m]})}),u&&Object(k.jsxs)("form",{style:{display:"flex"},onSubmit:p,children:[Object(k.jsx)(fe,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){s(e.currentTarget.value)},value:r,placeholder:"write some comments"}),Object(k.jsx)("br",{}),Object(k.jsx)(Oe.a,{style:{width:"20%",height:"8px"},onClick:p,children:Object(k.jsx)("h5",{children:"Post"})})]})]})};var ve=function e(t){var n,r=Object(a.useState)(0),s=Object(o.a)(r,2),i=(s[0],s[1]),l=Object(a.useState)(!1),d=Object(o.a)(l,2);return d[0],d[1],Object(a.useEffect)((function(){var e=0;t.CommentLists.map((function(n){n.responseTo===t.parentCommentId&&e++})),i(e)}),[t.CommentLists,t.parentCommentId]),Object(k.jsx)("div",{children:(n=t.parentCommentId,t.CommentLists.map((function(a,r){return Object(k.jsx)(c.a.Fragment,{children:a.responseTo===n&&Object(k.jsxs)("div",{style:{width:"80%",marginLeft:"40px",marginTop:"40px"},children:[Object(k.jsx)(xe,{comment:a,postId:t.postId,refreshFunction:t.refreshFunction},Object(Y.a)()),Object(k.jsx)(e,{CommentLists:t.CommentLists,parentCommentId:a._id,postId:t.postId},Object(Y.a)())]})},Object(Y.a)())})))})},ge=he.a.TextArea;var ye=function(e){var t=JSON.parse(localStorage.getItem("profile")).result,n=(Object(l.c)((function(e){return e.posts})),Object(a.useState)("")),r=Object(o.a)(n,2),s=r[0],i=r[1],d=Object(l.b)(),u=function(n){n.preventDefault();var a={content:s,creator:t._id,postId:e.postId};d(C(e.postId,a)).then((function(t){return e.refreshFunction(t[0])}))};return Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("h5",{children:" Replies"}),Object(k.jsx)("hr",{}),e.CommentLists&&e.CommentLists.map((function(t,n){return!t.responseTo&&Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(xe,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction},Object(Y.a)()),Object(k.jsx)(ve,{CommentLists:e.CommentLists,postId:e.postId,parentCommentId:t._id,refreshFunction:e.refreshFunction},Object(Y.a)())]},Object(Y.a)())})),Object(k.jsxs)("form",{style:{display:"flex"},onSubmit:u,children:["1",Object(k.jsx)(ge,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){i(e.currentTarget.value)},value:s,placeholder:"write some comments"}),Object(k.jsx)("br",{}),Object(k.jsx)(Oe.a,{style:{width:"20%",height:"52px"},onClick:u,children:Object(k.jsx)("h5",{children:"Post"})})]})]})},we=function(e){var t=e.match,n=Object(l.c)((function(e){return e.posts})).filter((function(e){return e._id===t.params.id})),c=JSON.parse(localStorage.getItem("profile")).result.name,r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=(s[0],s[1],Object(a.useState)("0")),d=Object(o.a)(i,2),u=(d[0],d[1],Object(a.useState)({creator:"".concat(c),message:"",CommentReply:"0"})),j=Object(o.a)(u,2),b=(j[0],j[1],Object(a.useState)([])),p=Object(o.a)(b,2),m=p[0],h=p[1];Object(l.b)();Object(a.useEffect)((function(){n[0]&&h(n[0].comments)}));return Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"container",children:[n[0]?Object(k.jsx)("div",{className:"card",children:Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title",children:n[0].title}),Object(k.jsx)("p",{className:"card-text",children:n[0].message})]})}):"",n[0]?Object(k.jsx)(ye,{CommentLists:m,postId:n[0]._id,refreshFunction:function(e){h(m.concat(e))}}):""]})})},Ce=function(){var e=Object(l.b)(),t=Object(a.useState)(0),n=Object(o.a)(t,1)[0];return Object(a.useEffect)((function(){e(g())}),[n,e]),Object(k.jsx)(S.a,{children:Object(k.jsxs)(i.a,{maxidth:"lg",children:[Object(k.jsx)(N,{}),Object(k.jsxs)(I.c,{children:[Object(k.jsx)(I.a,{path:"/auth",exact:!0,component:me}),Object(k.jsx)(I.a,{path:"/board/:id",exact:!0,component:we}),Object(k.jsx)(I.a,{path:"/r/:title/:id",exact:!0,component:K}),Object(k.jsx)(I.a,{path:"/",exact:!0,component:Z})]})]})})},Se=n(47),Ie=n(117),ke=n(78),Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(H.a)({},null===t||void 0===t?void 0:t.data))),Object(H.a)(Object(H.a)({},e),{},{authData:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(H.a)(Object(H.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},Ee=Object(Se.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"FETCH_ALL":return e;case"CREATE":return[].concat(Object(ke.a)(e),[t.payload]);case"DELETE":return e.filter((function(e){return e._id!==t.payload}));case"LIKE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}},auth:Ne,subs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return e;case"CREATE2":return[].concat(Object(ke.a)(e),[t.payload]);case"DELETE2":return e.filter((function(e){return e._id!==t.payload}));case"CLEAR":return[];default:return e}}}),Te=n(118),Le=(n(165),Object(Se.e)(Ee,Object(Se.d)(Object(Se.a)(Ie.a))));Te.a.watch(),s.a.render(Object(k.jsx)(l.a,{store:Le,children:Object(k.jsx)(Ce,{})}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.65ef6bdb.chunk.js.map